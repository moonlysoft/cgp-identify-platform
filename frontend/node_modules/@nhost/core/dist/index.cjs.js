"use strict";var Re=Object.defineProperty,Se=Object.defineProperties;var _e=Object.getOwnPropertyDescriptors;var M=Object.getOwnPropertySymbols;var B=Object.prototype.hasOwnProperty,z=Object.prototype.propertyIsEnumerable;var j=(r,e,t)=>e in r?Re(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,p=(r,e)=>{for(var t in e||(e={}))B.call(e,t)&&j(r,t,e[t]);if(M)for(var t of M(e))z.call(e,t)&&j(r,t,e[t]);return r},R=(r,e)=>Se(r,_e(e));var x=(r,e)=>{var t={};for(var s in r)B.call(r,s)&&e.indexOf(s)<0&&(t[s]=r[s]);if(r!=null&&M)for(var s of M(r))e.indexOf(s)<0&&z.call(r,s)&&(t[s]=r[s]);return t};Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});var l=require("xstate"),ye=require("axios"),Ie=require("js-cookie");function J(r){return r&&typeof r=="object"&&"default"in r?r:{default:r}}var ve=J(ye),q=J(Ie);function Ae(r){return new TextEncoder().encode(r)}function O(r){const e=new Uint8Array(r);let t="";for(const n of e)t+=String.fromCharCode(n);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function $(r){const e=r.replace(/-/g,"+").replace(/_/g,"/"),t=(4-e.length%4)%4,s=e.padEnd(e.length+t,"="),n=atob(s),i=new ArrayBuffer(n.length),u=new Uint8Array(i);for(let f=0;f<n.length;f++)u[f]=n.charCodeAt(f);return i}function Z(){return(window==null?void 0:window.PublicKeyCredential)!==void 0&&typeof window.PublicKeyCredential=="function"}function ee(r){const{id:e}=r;return R(p({},r),{id:$(e),transports:r.transports})}function re(r){return r==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(r)}class g extends Error{constructor(e,t="WebAuthnError"){super(e),this.name=t}}function Oe({error:r,options:e}){var t,s;const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(e.signal===new AbortController().signal)return new g("Registration ceremony was sent an abort signal","AbortError")}else if(r.name==="ConstraintError"){if(((t=n.authenticatorSelection)===null||t===void 0?void 0:t.requireResidentKey)===!0)return new g("Discoverable credentials were required but no available authenticator supported it","ConstraintError");if(((s=n.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new g("User verification was required but no available authenticator supported it","ConstraintError")}else{if(r.name==="InvalidStateError")return new g("The authenticator was previously registered","InvalidStateError");if(r.name==="NotAllowedError")return new g("User clicked cancel, or the registration ceremony timed out","NotAllowedError");if(r.name==="NotSupportedError")return n.pubKeyCredParams.filter(u=>u.type==="public-key").length===0?new g('No entry in pubKeyCredParams was of type "public-key"',"NotSupportedError"):new g("No available authenticator supported any of the specified pubKeyCredParams algorithms","NotSupportedError");if(r.name==="SecurityError"){const i=window.location.hostname;if(re(i)){if(n.rp.id!==i)return new g(`The RP ID "${n.rp.id}" is invalid for this domain`,"SecurityError")}else return new g(`${window.location.hostname} is an invalid domain`,"SecurityError")}else if(r.name==="TypeError"){if(n.user.id.byteLength<1||n.user.id.byteLength>64)return new g("User ID was not between 1 and 64 characters","TypeError")}else if(r.name==="UnknownError")return new g("The authenticator was unable to process the specified options, or could not create a new credential","UnknownError")}return r}class ke{createNewAbortSignal(){return this.controller&&this.controller.abort(),this.controller=new AbortController,this.controller.signal}reset(){this.controller=void 0}}const K=new ke;async function se(r){if(!Z())throw new Error("WebAuthn is not supported in this browser");const t={publicKey:R(p({},r),{challenge:$(r.challenge),user:R(p({},r.user),{id:Ae(r.user.id)}),excludeCredentials:r.excludeCredentials.map(ee)})};t.signal=K.createNewAbortSignal();let s;try{s=await navigator.credentials.create(t)}catch(T){throw Oe({error:T,options:t})}finally{K.reset()}if(!s)throw new Error("Registration was not completed");const{id:n,rawId:i,response:u,type:f}=s,m={id:n,rawId:O(i),response:{attestationObject:O(u.attestationObject),clientDataJSON:O(u.clientDataJSON)},type:f,clientExtensionResults:s.getClientExtensionResults(),authenticatorAttachment:s.authenticatorAttachment};return typeof u.getTransports=="function"&&(m.transports=u.getTransports()),m}function Pe(r){return new TextDecoder("utf-8").decode(r)}async function Ne(){if(navigator.credentials.conditionalMediationSupported)return!0;const r=window.PublicKeyCredential;return r.isConditionalMediationAvailable!==void 0&&r.isConditionalMediationAvailable()}function Ce({error:r,options:e}){var t;const{publicKey:s}=e;if(!s)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(e.signal===new AbortController().signal)return new g("Authentication ceremony was sent an abort signal","AbortError")}else{if(r.name==="NotAllowedError")return!((t=s.allowCredentials)===null||t===void 0)&&t.length?new g("No available authenticator recognized any of the allowed credentials","NotAllowedError"):new g("User clicked cancel, or the authentication ceremony timed out","NotAllowedError");if(r.name==="SecurityError"){const n=window.location.hostname;if(re(n)){if(s.rpId!==n)return new g(`The RP ID "${s.rpId}" is invalid for this domain`,"SecurityError")}else return new g(`${window.location.hostname} is an invalid domain`,"SecurityError")}else if(r.name==="UnknownError")return new g("The authenticator was unable to process the specified options, or could not create a new assertion signature","UnknownError")}return r}async function be(r,e=!1){var t,s;if(!Z())throw new Error("WebAuthn is not supported in this browser");let n;((t=r.allowCredentials)===null||t===void 0?void 0:t.length)!==0&&(n=(s=r.allowCredentials)===null||s===void 0?void 0:s.map(ee));const i=R(p({},r),{challenge:$(r.challenge),allowCredentials:n}),u={};if(e){if(!await Ne())throw Error("Browser does not support WebAuthn autofill");if(document.querySelectorAll("input[autocomplete*='webauthn']").length<1)throw Error('No <input> with `"webauthn"` in its `autocomplete` attribute was detected');u.mediation="conditional",i.allowCredentials=[]}u.publicKey=i,u.signal=K.createNewAbortSignal();let f;try{f=await navigator.credentials.get(u)}catch(o){throw Ce({error:o,options:u})}finally{K.reset()}if(!f)throw new Error("Authentication was not completed");const{id:m,rawId:T,response:h,type:_}=f;let E;return h.userHandle&&(E=Pe(h.userHandle)),{id:m,rawId:O(T),response:{authenticatorData:O(h.authenticatorData),clientDataJSON:O(h.clientDataJSON),signature:O(h.signature),userHandle:E},type:_,clientExtensionResults:f.getClientExtensionResults(),authenticatorAttachment:f.authenticatorAttachment}}const N="nhostRefreshToken",C="nhostRefreshTokenExpiresAt",te=3,ne=300,ie=5,De=30,oe=0,ae=1,S=10,P=20;class D extends Error{constructor(e){super(e.message),Error.captureStackTrace(this,this.constructor),e instanceof Error?(this.name=e.name,this.error={error:e.name,status:ae,message:e.message}):(this.name=e.error,this.error=e)}}const v={status:S,error:"invalid-email",message:"Email is incorrectly formatted"},ce={status:S,error:"invalid-mfa-type",message:"MFA type is invalid"},ue={status:S,error:"invalid-mfa-code",message:"MFA code is invalid"},V={status:S,error:"invalid-password",message:"Password is incorrectly formatted"},W={status:S,error:"invalid-phone-number",message:"Phone number is incorrectly formatted"},le={status:S,error:"invalid-mfa-ticket",message:"MFA ticket is invalid"},de={status:S,error:"no-mfa-ticket",message:"No MFA ticket has been provided"},Me={status:S,error:"no-refresh-token",message:"No refresh token has been provided"},xe={status:P,error:"refresher-already-running",message:"The token refresher is already running. You must wait until is has finished before submitting a new token."},I={status:P,error:"already-signed-in",message:"User is already signed in"},fe={status:P,error:"unauthenticated-user",message:"User is not authenticated"},Ue={status:P,error:"user-not-anonymous",message:"User is not anonymous"},Ke={status:P,error:"unverified-user",message:"Email needs verification"},Ve={status:S,error:"invalid-refresh-token",message:"Invalid or expired refresh token"},k=r=>{const e=ve.default.create({baseURL:r});return e.interceptors.response.use(t=>t,t=>{var s,n,i,u,f,m,T,h,_,E;return Promise.reject({error:{message:(f=(u=(i=(n=(s=t.response)==null?void 0:s.data)==null?void 0:n.message)!=null?i:t.message)!=null?u:t.request.responseText)!=null?f:JSON.stringify(t),status:(_=(h=(m=t.response)==null?void 0:m.status)!=null?h:(T=t.response)==null?void 0:T.data.statusCode)!=null?_:oe,error:((E=t.response)==null?void 0:E.data.error)||t.request.statusText||"network"}})}),e},L=typeof window!="undefined",U=new Map,Le=r=>{var e;return L&&typeof localStorage!="undefined"?localStorage.getItem(r):(e=U.get(r))!=null?e:null},Ge=(r,e)=>{L&&typeof localStorage!="undefined"?e?localStorage.setItem(r,e):localStorage.removeItem(r):e?U.set(r,e):U.has(r)&&U.delete(r)},Ee=(r,e)=>{if(r==="localStorage"||r==="web")return Le;if(r==="cookie")return t=>{var s;return L&&(s=q.default.get(t))!=null?s:null};if(!e)throw Error(`clientStorageType is set to '${r}' but no clientStorage has been given`);if(r==="react-native")return t=>{var s;return(s=e.getItem)==null?void 0:s.call(e,t)};if(r==="capacitor")return t=>{var s;return(s=e.get)==null?void 0:s.call(e,{key:t})};if(r==="expo-secure-storage")return t=>{var s;return(s=e.getItemAsync)==null?void 0:s.call(e,t)};if(r==="custom"){if(e.getItem&&e.removeItem)return e.getItem;if(e.getItemAsync)return e.getItemAsync;throw Error(`clientStorageType is set to 'custom' but clientStorage is missing either "getItem" and "removeItem" properties or "getItemAsync" property`)}throw Error(`Unknown storage type: ${r}`)},he=(r,e)=>{if(r==="localStorage"||r==="web")return Ge;if(r==="cookie")return(t,s)=>{L&&(s?q.default.set(t,s,{expires:30}):q.default.remove(t))};if(!e)throw Error(`clientStorageType is set to '${r}' but no clienStorage has been given`);if(r==="react-native")return(t,s)=>{var n,i;return s?(n=e.setItem)==null?void 0:n.call(e,t,s):(i=e.removeItem)==null?void 0:i.call(e,t)};if(r==="capacitor")return(t,s)=>{var n,i;return s?(n=e.set)==null?void 0:n.call(e,{key:t,value:s}):(i=e.remove)==null?void 0:i.call(e,{key:t})};if(r==="expo-secure-storage")return async(t,s)=>{var n,i;return s?(n=e.setItemAsync)==null?void 0:n.call(e,t,s):(i=e.deleteItemAsync)==null?void 0:i.call(e,t)};if(r==="custom"){if(!e.removeItem)throw Error("clientStorageType is set to 'custom' but clientStorage is missing a removeItem property");if(e.setItem)return(t,s)=>{var n,i;return s?(n=e.setItem)==null?void 0:n.call(e,t,s):(i=e.removeItem)==null?void 0:i.call(e,t)};if(e.setItemAsync)return async(t,s)=>{var n,i;return s?(n=e.setItemAsync)==null?void 0:n.call(e,t,s):(i=e.removeItem)==null?void 0:i.call(e,t)};throw Error("clientStorageType is set to 'custom' but clientStorage is missing setItem or setItemAsync property")}throw Error(`Unknown storage type: ${r}`)},me=(r,e)=>{const t=e&&Object.entries(e).map(([s,n])=>{const i=Array.isArray(n)?n.join(","):typeof n=="object"?JSON.stringify(n):n;return`${s}=${encodeURIComponent(i)}`}).join("&");return t?`${r}?${t}`:r},y=(r,e)=>{if(!(e!=null&&e.redirectTo))return e;const h=e,{redirectTo:t}=h,s=x(h,["redirectTo"]);if(!r)return t.startsWith("/")?s:e;const n=new URL(r),i=Object.fromEntries(new URLSearchParams(n.search)),u=new URL(t.startsWith("/")?n.origin+t:t),f=new URLSearchParams(u.search);let m=Object.fromEntries(f);t.startsWith("/")&&(m=p(p({},i),m));let T=n.pathname;return u.pathname.length>1&&(T+=u.pathname.slice(1)),R(p({},s),{redirectTo:me(u.origin+T,m)})};function b(r,e){var n;if(!e){if(typeof window=="undefined")return;e=((n=window.location)==null?void 0:n.href)||""}r=r.replace(/[\[\]]/g,"\\$&");const t=new RegExp("[?&#]"+r+"(=([^&#]*)|&|#|$)"),s=t.exec(e);return s?s[2]?decodeURIComponent(s[2].replace(/\+/g," ")):"":null}function F(r){var t;if(typeof window=="undefined")return;const e=window==null?void 0:window.location;if(!!e&&e){const s=new URLSearchParams(e.search),n=new URLSearchParams((t=e.hash)==null?void 0:t.slice(1));s.delete(r),n.delete(r);let i=window.location.pathname;Array.from(s).length&&(i+=`?${s.toString()}`),Array.from(n).length&&(i+=`#${n.toString()}`),window.history.pushState({},"",i)}}const A=r=>!!r&&typeof r=="string"&&!!String(r).toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/),H=r=>!!r&&typeof r=="string"&&r.length>=te,Q=r=>!!r&&typeof r=="string",qe=r=>r&&typeof r=="string"&&r.match(/^mfaTotp:[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i),G={user:null,mfa:null,accessToken:{value:null,expiresAt:null},refreshTimer:{startedAt:null,attempts:0,lastAttempt:null},refreshToken:{value:null},errors:{}},We=({backendUrl:r,clientUrl:e,interpreter:t})=>{const s=k(r);return l.createMachine({schema:{context:{},events:{},services:{}},tsTypes:{},preserveActionOrder:!0,id:"changeEmail",initial:"idle",context:{error:null},states:{idle:{on:{REQUEST:[{cond:"invalidEmail",actions:"saveInvalidEmailError",target:".error"},{target:"requesting"}]},initial:"initial",states:{initial:{},success:{},error:{}}},requesting:{invoke:{src:"requestChange",id:"requestChange",onDone:{target:"idle.success",actions:"reportSuccess"},onError:{actions:["saveRequestError","reportError"],target:"idle.error"}}}}},{actions:{saveInvalidEmailError:l.assign({error:n=>v}),saveRequestError:l.assign({error:(n,{data:{error:i}})=>i}),reportError:l.send(n=>({type:"ERROR",error:n.error})),reportSuccess:l.send("SUCCESS")},guards:{invalidEmail:(n,{email:i})=>!A(i)},services:{requestChange:async(n,{email:i,options:u})=>(await s.post("/user/email/change",{newEmail:i,options:y(e,u)},{headers:{authorization:`Bearer ${t==null?void 0:t.state.context.accessToken.value}`}})).data}})},Fe=({backendUrl:r,interpreter:e})=>{const t=k(r);return l.createMachine({schema:{context:{},events:{},services:{}},tsTypes:{},preserveActionOrder:!0,id:"changePassword",initial:"idle",context:{error:null},states:{idle:{on:{REQUEST:[{cond:"invalidPassword",actions:"saveInvalidPasswordError",target:".error"},{target:"requesting"}]},initial:"initial",states:{initial:{},success:{},error:{}}},requesting:{invoke:{src:"requestChange",id:"requestChange",onDone:{target:"idle.success",actions:"reportSuccess"},onError:{actions:["saveRequestError","reportError"],target:"idle.error"}}}}},{actions:{saveInvalidPasswordError:l.assign({error:s=>V}),saveRequestError:l.assign({error:(s,{data:{error:n}})=>n}),reportError:l.send(s=>({type:"ERROR",error:s.error})),reportSuccess:l.send("SUCCESS")},guards:{invalidPassword:(s,{password:n})=>!H(n)},services:{requestChange:(s,{password:n,ticket:i})=>t.post("/user/password",{newPassword:n,ticket:i},{headers:{authorization:`Bearer ${e==null?void 0:e.state.context.accessToken.value}`}})}})},He=({backendUrl:r,interpreter:e})=>{const t=k(r);return l.createMachine({schema:{context:{},events:{}},tsTypes:{},preserveActionOrder:!0,id:"enableMfa",initial:"idle",context:{error:null,imageUrl:null,secret:null},states:{idle:{initial:"initial",on:{GENERATE:"generating"},states:{initial:{},error:{}}},generating:{invoke:{src:"generate",id:"generate",onDone:{target:"generated",actions:["reportGeneratedSuccess","saveGeneration"]},onError:{actions:["saveError","reportGeneratedError"],target:"idle.error"}}},generated:{initial:"idle",states:{idle:{initial:"idle",on:{ACTIVATE:[{cond:"invalidMfaType",actions:"saveInvalidMfaTypeError",target:".error"},{cond:"invalidMfaCode",actions:"saveInvalidMfaCodeError",target:".error"},{target:"activating"}]},states:{idle:{},error:{}}},activating:{invoke:{src:"activate",id:"activate",onDone:{target:"activated",actions:"reportSuccess"},onError:{actions:["saveError","reportError"],target:"idle.error"}}},activated:{type:"final"}}}}},{actions:{saveInvalidMfaTypeError:l.assign({error:s=>ce}),saveInvalidMfaCodeError:l.assign({error:s=>ue}),saveError:l.assign({error:(s,{data:{error:n}})=>n}),saveGeneration:l.assign({imageUrl:(s,{data:{imageUrl:n}})=>n,secret:(s,{data:{totpSecret:n}})=>n}),reportError:l.send(s=>({type:"ERROR",error:s.error})),reportSuccess:l.send("SUCCESS"),reportGeneratedSuccess:l.send("GENERATED"),reportGeneratedError:l.send(s=>({type:"GENERATED_ERROR",error:s.error}))},guards:{invalidMfaCode:(s,{code:n})=>!n,invalidMfaType:(s,{activeMfaType:n})=>!n||n!=="totp"},services:{generate:async s=>{const{data:n}=await t.get("/mfa/totp/generate",{headers:{authorization:`Bearer ${e==null?void 0:e.state.context.accessToken.value}`}});return n},activate:(s,{code:n,activeMfaType:i})=>t.post("/user/mfa",{code:n,activeMfaType:i},{headers:{authorization:`Bearer ${e==null?void 0:e.state.context.accessToken.value}`}})}})},$e=({backendUrl:r,clientUrl:e})=>{const t=k(r);return l.createMachine({schema:{context:{},events:{},services:{}},tsTypes:{},preserveActionOrder:!0,id:"changePassword",initial:"idle",context:{error:null},states:{idle:{on:{REQUEST:[{cond:"invalidEmail",actions:"saveInvalidEmailError",target:".error"},{target:"requesting"}]},initial:"initial",states:{initial:{},success:{},error:{}}},requesting:{invoke:{src:"requestChange",id:"requestChange",onDone:{target:"idle.success",actions:"reportSuccess"},onError:{actions:["saveRequestError","reportError"],target:"idle.error"}}}}},{actions:{saveInvalidEmailError:l.assign({error:s=>v}),saveRequestError:l.assign({error:(s,{data:{error:n}})=>n}),reportError:l.send(s=>({type:"ERROR",error:s.error})),reportSuccess:l.send("SUCCESS")},guards:{invalidEmail:(s,{email:n})=>!A(n)},services:{requestChange:(s,{email:n,options:i})=>t.post("/user/password/reset",{email:n,options:y(e,i)})}})},Ye=({backendUrl:r,clientUrl:e})=>{const t=k(r);return l.createMachine({schema:{context:{},events:{},services:{}},tsTypes:{},preserveActionOrder:!0,id:"sendVerificationEmail",initial:"idle",context:{error:null},states:{idle:{on:{REQUEST:[{cond:"invalidEmail",actions:"saveInvalidEmailError",target:".error"},{target:"requesting"}]},initial:"initial",states:{initial:{},success:{},error:{}}},requesting:{invoke:{src:"request",id:"request",onDone:{target:"idle.success",actions:"reportSuccess"},onError:{actions:["saveRequestError","reportError"],target:"idle.error"}}}}},{actions:{saveInvalidEmailError:l.assign({error:s=>v}),saveRequestError:l.assign({error:(s,{data:{error:n}})=>n}),reportError:l.send(s=>({type:"ERROR",error:s.error})),reportSuccess:l.send("SUCCESS")},guards:{invalidEmail:(s,{email:n})=>!A(n)},services:{request:async(s,{email:n,options:i})=>(await t.post("/user/email/send-verification-email",{email:n,options:y(e,i)})).data}})},ge=({backendUrl:r,clientUrl:e,clientStorageGetter:t,clientStorageSetter:s,clientStorageType:n="web",clientStorage:i,refreshIntervalTime:u,autoRefreshToken:f=!0,autoSignIn:m=!0})=>{const T=t||Ee(n,i),h=s||he(n,i),_=k(r),E=async(o,a,c)=>(await _.post(o,a,c)).data;return l.createMachine({schema:{context:{},events:{},services:{}},tsTypes:{},context:G,preserveActionOrder:!0,id:"nhost",type:"parallel",states:{authentication:{initial:"starting",on:{SESSION_UPDATE:[{cond:"hasSession",actions:["saveSession","resetTimer","reportTokenChanged"],target:".signedIn"}]},states:{starting:{entry:"resetErrors",tags:["loading"],always:{cond:"isSignedIn",target:"signedIn"},invoke:{id:"importRefreshToken",src:"importRefreshToken",onDone:{actions:["saveSession","reportTokenChanged"],target:"signedIn"},onError:{actions:["saveAuthenticationError"],target:"signedOut"}}},signedOut:{initial:"noErrors",entry:"reportSignedOut",states:{noErrors:{},success:{},needsSmsOtp:{},needsMfa:{},failed:{},signingOut:{entry:["clearContextExceptRefreshToken"],exit:["destroyRefreshToken","reportTokenChanged"],invoke:{src:"signout",id:"signingOut",onDone:{target:"success"},onError:{target:"failed",actions:["saveAuthenticationError"]}}}},on:{SIGNIN_PASSWORD:"authenticating.password",SIGNIN_ANONYMOUS:"authenticating.anonymous",SIGNIN_SECURITY_KEY_EMAIL:"authenticating.securityKeyEmail",SIGNIN_MFA_TOTP:"authenticating.mfa.totp"}},authenticating:{entry:"resetErrors",states:{password:{invoke:{src:"signInPassword",id:"authenticateUserWithPassword",onDone:[{cond:"hasMfaTicket",actions:["saveMfaTicket"],target:"#nhost.authentication.signedOut.needsMfa"},{actions:["saveSession","reportTokenChanged"],target:"#nhost.authentication.signedIn"}],onError:[{cond:"unverified",target:["#nhost.authentication.signedOut","#nhost.registration.incomplete.needsEmailVerification"]},{actions:"saveAuthenticationError",target:"#nhost.authentication.signedOut.failed"}]}},anonymous:{invoke:{src:"signInAnonymous",id:"authenticateAnonymously",onDone:{actions:["saveSession","reportTokenChanged"],target:"#nhost.authentication.signedIn"},onError:{actions:"saveAuthenticationError",target:"#nhost.authentication.signedOut.failed"}}},mfa:{states:{totp:{invoke:{src:"signInMfaTotp",id:"signInMfaTotp",onDone:{actions:["saveSession","reportTokenChanged"],target:"#nhost.authentication.signedIn"},onError:{actions:["saveAuthenticationError"],target:"#nhost.authentication.signedOut.failed"}}}}},securityKeyEmail:{invoke:{src:"signInSecurityKeyEmail",id:"authenticateUserWithSecurityKey",onDone:{actions:["saveSession","reportTokenChanged"],target:"#nhost.authentication.signedIn"},onError:[{cond:"unverified",target:["#nhost.authentication.signedOut","#nhost.registration.incomplete.needsEmailVerification"]},{actions:"saveAuthenticationError",target:"#nhost.authentication.signedOut.failed"}]}}}},signedIn:{type:"parallel",entry:["reportSignedIn","cleanUrl","broadcastToken","resetErrors"],on:{SIGNOUT:"signedOut.signingOut"},states:{refreshTimer:{id:"timer",initial:"idle",states:{disabled:{type:"final"},stopped:{always:{cond:"noToken",target:"idle"}},idle:{always:[{cond:"isAutoRefreshDisabled",target:"disabled"},{cond:"hasRefreshToken",target:"running"}]},running:{initial:"pending",entry:"resetTimer",states:{pending:{after:{"1000":{internal:!1,target:"pending"}},always:{cond:"refreshTimerShouldRefresh",target:"refreshing"}},refreshing:{invoke:{src:"refreshToken",id:"refreshToken",onDone:{actions:["saveSession","resetTimer","reportTokenChanged"],target:"pending"},onError:[{actions:"saveRefreshAttempt",target:"pending"}]}}}}}}}}}},token:{initial:"idle",states:{idle:{on:{TRY_TOKEN:"running"},initial:"noErrors",states:{noErrors:{},error:{}}},running:{invoke:{src:"refreshToken",id:"authenticateWithToken",onDone:{actions:["saveSession","reportTokenChanged"],target:["#nhost.authentication.signedIn","idle.noErrors"]},onError:[{cond:"isSignedIn",target:"idle.error"},{actions:"saveAuthenticationError",target:["#nhost.authentication.signedOut.failed","idle.error"]}]}}}},registration:{initial:"incomplete",on:{SIGNED_IN:[{cond:"isAnonymous",target:".incomplete"},".complete"]},states:{incomplete:{on:{SIGNUP_EMAIL_PASSWORD:"emailPassword",SIGNUP_SECURITY_KEY:"securityKey",PASSWORDLESS_EMAIL:"passwordlessEmail",PASSWORDLESS_SMS:"passwordlessSms",PASSWORDLESS_SMS_OTP:"passwordlessSmsOtp"},initial:"noErrors",states:{noErrors:{},needsEmailVerification:{},needsOtp:{},failed:{}}},emailPassword:{entry:["resetErrors"],invoke:{src:"signUpEmailPassword",id:"signUpEmailPassword",onDone:[{cond:"hasSession",actions:["saveSession","reportTokenChanged"],target:"#nhost.authentication.signedIn"},{actions:"clearContext",target:["#nhost.authentication.signedOut","incomplete.needsEmailVerification"]}],onError:[{cond:"unverified",target:"incomplete.needsEmailVerification"},{actions:"saveRegistrationError",target:"incomplete.failed"}]}},securityKey:{entry:["resetErrors"],invoke:{src:"signUpSecurityKey",id:"signUpSecurityKey",onDone:[{cond:"hasSession",actions:["saveSession","reportTokenChanged"],target:"#nhost.authentication.signedIn"},{actions:"clearContext",target:["#nhost.authentication.signedOut","incomplete.needsEmailVerification"]}],onError:[{cond:"unverified",target:"incomplete.needsEmailVerification"},{actions:"saveRegistrationError",target:"incomplete.failed"}]}},passwordlessEmail:{entry:["resetErrors"],invoke:{src:"passwordlessEmail",id:"passwordlessEmail",onDone:{actions:"clearContext",target:["#nhost.authentication.signedOut","incomplete.needsEmailVerification"]},onError:{actions:"saveRegistrationError",target:"incomplete.failed"}}},passwordlessSms:{entry:["resetErrors"],invoke:{src:"passwordlessSms",id:"passwordlessSms",onDone:{actions:"clearContext",target:["#nhost.authentication.signedOut","incomplete.needsOtp"]},onError:{actions:"saveRegistrationError",target:"incomplete.failed"}}},passwordlessSmsOtp:{entry:["resetErrors"],invoke:{src:"passwordlessSmsOtp",id:"passwordlessSmsOtp",onDone:{actions:["saveSession","reportTokenChanged"],target:"#nhost.authentication.signedIn"},onError:{actions:"saveRegistrationError",target:"incomplete.failed"}}},complete:{on:{SIGNED_OUT:"incomplete"}}}}}},{actions:{reportSignedIn:l.send("SIGNED_IN"),reportSignedOut:l.send("SIGNED_OUT"),reportTokenChanged:l.send("TOKEN_CHANGED"),clearContext:l.assign(()=>(h(C,null),h(N,null),p({},G))),clearContextExceptRefreshToken:l.assign(({refreshToken:{value:o}})=>(h(C,null),R(p({},G),{refreshToken:{value:o}}))),saveSession:l.assign({user:(o,{data:a})=>{var c;return((c=a==null?void 0:a.session)==null?void 0:c.user)||null},accessToken:(o,{data:a})=>{if(a.session){const{accessTokenExpiresIn:c,accessToken:d}=a.session,w=new Date(Date.now()+c*1e3);return h(C,w.toISOString()),{value:d,expiresAt:w}}return h(C,null),{value:null,expiresAt:null}},refreshToken:(o,{data:a})=>{var d;const c=((d=a.session)==null?void 0:d.refreshToken)||null;return c&&h(N,c),{value:c}}}),saveMfaTicket:l.assign({mfa:(o,a)=>{var c;return(c=a.data)==null?void 0:c.mfa}}),resetTimer:l.assign({refreshTimer:o=>({startedAt:new Date,attempts:0,lastAttempt:null})}),saveRefreshAttempt:l.assign({refreshTimer:(o,a)=>({startedAt:o.refreshTimer.startedAt,attempts:o.refreshTimer.attempts+1,lastAttempt:new Date})}),saveAuthenticationError:l.assign({errors:({errors:o},{data:{error:a}})=>R(p({},o),{authentication:a})}),resetErrors:l.assign({errors:o=>({})}),saveRegistrationError:l.assign({errors:({errors:o},{data:{error:a}})=>R(p({},o),{registration:a})}),destroyRefreshToken:l.assign({refreshToken:o=>(h(N,null),{value:null})}),cleanUrl:()=>{m&&b("refreshToken")&&(F("refreshToken"),F("type"))},broadcastToken:o=>{if(m)try{new BroadcastChannel("nhost").postMessage(o.refreshToken.value)}catch{}}},guards:{isAnonymous:(o,a)=>{var c;return!!((c=o.user)!=null&&c.isAnonymous)},isSignedIn:o=>!!o.user&&!!o.refreshToken.value&&!!o.accessToken.value,noToken:o=>!o.refreshToken.value,hasRefreshToken:o=>!!o.refreshToken.value,isAutoRefreshDisabled:()=>!f,refreshTimerShouldRefresh:o=>{const{expiresAt:a}=o.accessToken;return a?o.refreshTimer.lastAttempt?Date.now()-o.refreshTimer.lastAttempt.getTime()>ie*1e3:u&&Date.now()-o.refreshTimer.startedAt.getTime()>u*1e3?!0:a.getTime()-Date.now()-1e3*ne<=0:!1},unverified:(o,{data:{error:a}})=>a.status===401&&(a.message==="Email is not verified"||a.error==="unverified-user"),hasSession:(o,a)=>{var c;return!!((c=a.data)!=null&&c.session)},hasMfaTicket:(o,a)=>{var c;return!!((c=a.data)!=null&&c.mfa)}},services:{signInPassword:(o,{email:a,password:c})=>A(a)?H(c)?E("/signin/email-password",{email:a,password:c}):Promise.reject({error:V}):Promise.reject({error:v}),passwordlessSms:(o,{phoneNumber:a,options:c})=>{var d;return Q(a)?(d=o.user)!=null&&d.isAnonymous?(console.warn("Deanonymisation from a phone number is not yet implemented in hasura-auth"),E("/user/deanonymize",{signInMethod:"passwordless",connection:"sms",phoneNumber:a,options:y(e,c)},{headers:{authorization:`Bearer ${o.accessToken.value}`}})):E("/signin/passwordless/sms",{phoneNumber:a,options:y(e,c)}):Promise.reject({error:W})},passwordlessSmsOtp:(o,{phoneNumber:a,otp:c})=>Q(a)?E("/signin/passwordless/sms/otp",{phoneNumber:a,otp:c}):Promise.reject({error:W}),passwordlessEmail:(o,{email:a,options:c})=>{var d;return A(a)?(d=o.user)!=null&&d.isAnonymous?E("/user/deanonymize",{signInMethod:"passwordless",connection:"email",email:a,options:y(e,c)},{headers:{authorization:`Bearer ${o.accessToken.value}`}}):E("/signin/passwordless/email",{email:a,options:y(e,c)}):Promise.reject({error:v})},signInAnonymous:o=>E("/signin/anonymous"),signInMfaTotp:(o,a)=>{var d;const c=a.ticket||((d=o.mfa)==null?void 0:d.ticket);return c?qe(c)?E("/signin/mfa/totp",{ticket:c,otp:a.otp}):Promise.reject({error:le}):Promise.reject({error:de})},signInSecurityKeyEmail:async(o,{email:a})=>{if(!A(a))throw new D(v);const c=await E("/signin/webauthn",{email:a});let d;try{d=await be(c)}catch(w){throw new D(w)}return E("/signin/webauthn/verify",{email:a,credential:d})},refreshToken:async(o,a)=>{const c=a.type==="TRY_TOKEN"?a.token:o.refreshToken.value;return{session:await E("/token",{refreshToken:c}),error:null}},signout:(o,a)=>E("/signout",{refreshToken:o.refreshToken.value,all:!!a.all}),signUpEmailPassword:async(o,{email:a,password:c,options:d})=>{var w;return A(a)?H(c)?(w=o.user)!=null&&w.isAnonymous?E("/user/deanonymize",{signInMethod:"email-password",email:a,password:c,options:y(e,d)},{headers:{authorization:`Bearer ${o.accessToken.value}`}}):E("/signup/email-password",{email:a,password:c,options:y(e,d)}):Promise.reject({error:V}):Promise.reject({error:v})},signUpSecurityKey:async(o,{email:a,options:c})=>{if(!A(a))return Promise.reject({error:v});const d=c==null?void 0:c.nickname;d&&delete c.nickname;const w=await E("/signup/webauthn",{email:a,options:c});let Y;try{Y=await se(w)}catch(we){throw new D(we)}return E("/signup/webauthn/verify",{credential:Y,options:{redirectTo:c==null?void 0:c.redirectTo,nickname:d}})},importRefreshToken:async()=>{let o=null;if(m){const c=b("refreshToken")||null;if(c)try{return{session:await E("/token",{refreshToken:c}),error:null}}catch(d){o=d.error}else{const d=b("error");if(d)return Promise.reject({session:null,error:{status:S,error:d,message:b("errorDescription")||d}})}}const a=await T(N);if(a)try{return{session:await E("/token",{refreshToken:a}),error:null}}catch(c){o=c.error}return Promise.reject({error:o})}}})};class pe{constructor(T){var h=T,{clientStorageType:e="web",autoSignIn:t=!0,autoRefreshToken:s=!0,start:n=!0,backendUrl:i,clientUrl:u,devTools:f}=h,m=x(h,["clientStorageType","autoSignIn","autoRefreshToken","start","backendUrl","clientUrl","devTools"]);if(this._subscriptions=new Set,this.backendUrl=i,this.clientUrl=u,this.machine=ge(R(p({},m),{backendUrl:i,clientUrl:u,clientStorageType:e,autoSignIn:t,autoRefreshToken:s})),n&&(this.interpreter=l.interpret(this.machine,{devTools:f}),this.interpreter.start()),typeof window!="undefined"&&t)try{this._channel=new BroadcastChannel("nhost"),this._channel.addEventListener("message",_=>{var o;const E=(o=this.interpreter)==null?void 0:o.state.context.refreshToken.value;this.interpreter&&_.data!==E&&this.interpreter.send("TRY_TOKEN",{token:_.data})})}catch{}}get interpreter(){return this._interpreter}set interpreter(e){this._interpreter=e,e&&this._subscriptions.forEach(t=>t(this))}onStart(e){this.interpreter?e(this):this._subscriptions.add(e)}}const X=typeof window!="undefined";class Te extends pe{constructor(t){var e=x(t,[]);super(R(p({},e),{autoSignIn:X&&e.autoSignIn,autoRefreshToken:X&&e.autoRefreshToken,clientStorageType:"cookie"}))}}const je=Te,Be=async({backendUrl:r,interpreter:e},t)=>{const s=k(r);try{const{data:n}=await s.post("/user/webauthn/add",{},{headers:{authorization:`Bearer ${e==null?void 0:e.state.context.accessToken.value}`}});let i;try{i=await se(n)}catch(f){throw new D(f)}const{data:u}=await s.post("/user/webauthn/verify",{credential:i,nickname:t},{headers:{authorization:`Bearer ${e==null?void 0:e.state.context.accessToken.value}`}});return{key:u,isError:!1,error:null,isSuccess:!0}}catch(n){const{error:i}=n;return{isError:!0,error:i,isSuccess:!1}}},ze=async(r,e,t)=>new Promise(s=>{r.send("REQUEST",{email:e,options:t}),r.onTransition(n=>{n.matches({idle:"error"})?s({error:n.context.error,isError:!0,needsEmailVerification:!1}):n.matches({idle:"success"})&&s({error:null,isError:!1,needsEmailVerification:!0})})}),Qe=async(r,e,t)=>new Promise(s=>{r.send("REQUEST",{password:e,ticket:t}),r.onTransition(n=>{n.matches({idle:"error"})?s({error:n.context.error,isError:!0,isSuccess:!1}):n.matches({idle:"success"})&&s({error:null,isError:!1,isSuccess:!0})})}),Xe=r=>new Promise(e=>{r.send("GENERATE"),r.onTransition(t=>{t.matches("generated")?e({error:null,isError:!1,isGenerated:!0,qrCodeDataUrl:t.context.imageUrl||""}):t.matches({idle:"error"})&&e({error:t.context.error||null,isError:!0,isGenerated:!1,qrCodeDataUrl:""})})}),Je=(r,e)=>new Promise(t=>{r.send("ACTIVATE",{activeMfaType:"totp",code:e}),r.onTransition(s=>{s.matches({generated:"activated"})?t({error:null,isActivated:!0,isError:!1}):s.matches({generated:{idle:"error"}})&&t({error:s.context.error,isActivated:!1,isError:!0})})}),Ze=async(r,e,t)=>new Promise(s=>{r.send("REQUEST",{email:e,options:t}),r.onTransition(n=>{n.matches({idle:"error"})?s({error:n.context.error,isError:!0,isSent:!1}):n.matches({idle:"success"})&&s({error:null,isError:!1,isSent:!0})})}),er=(r,e,t)=>new Promise(s=>{r.send("REQUEST",{email:e,options:t}),r.onTransition(n=>{n.matches({idle:"error"})?s({error:n.context.error,isError:!0,isSent:!1}):n.matches({idle:"success"})&&s({error:null,isError:!1,isSent:!0})})}),rr=r=>new Promise(e=>{const{changed:t}=r.send("SIGNIN_ANONYMOUS");t||e({isSuccess:!1,isError:!0,error:I,user:null,accessToken:null}),r.onTransition(s=>{s.matches({authentication:"signedIn"})&&e({isSuccess:!0,isError:!1,error:null,user:s.context.user,accessToken:s.context.accessToken.value}),s.matches({authentication:{signedOut:"failed"}})&&e({isSuccess:!1,isError:!0,error:s.context.errors.authentication||null,user:null,accessToken:null})})}),sr=(r,e,t)=>new Promise(s=>{const{changed:n,context:i}=r.send("SIGNIN_PASSWORD",{email:e,password:t});if(!n)return s({accessToken:i.accessToken.value,error:I,isError:!0,isSuccess:!1,needsEmailVerification:!1,needsMfaOtp:!1,mfa:null,user:i.user});r.onTransition(u=>{u.matches({authentication:{signedOut:"noErrors"},registration:{incomplete:"needsEmailVerification"}})?s({accessToken:null,error:null,isError:!1,isSuccess:!1,needsEmailVerification:!0,needsMfaOtp:!1,mfa:null,user:null}):u.matches({authentication:{signedOut:"needsMfa"}})?s({accessToken:null,error:null,isError:!1,isSuccess:!1,needsEmailVerification:!1,needsMfaOtp:!0,mfa:u.context.mfa,user:null}):u.matches({authentication:{signedOut:"failed"}})?s({accessToken:null,error:u.context.errors.authentication||null,isError:!0,isSuccess:!1,needsEmailVerification:!1,needsMfaOtp:!1,mfa:null,user:null}):u.matches({authentication:"signedIn"})&&s({accessToken:u.context.accessToken.value,error:null,isError:!1,isSuccess:!0,needsEmailVerification:!1,needsMfaOtp:!1,mfa:null,user:u.context.user})})}),tr=(r,e,t)=>new Promise(s=>{const{changed:n}=r.send("PASSWORDLESS_EMAIL",{email:e,options:t});if(!n)return s({error:I,isError:!0,isSuccess:!1});r.onTransition(i=>{i.matches("registration.incomplete.failed")?s({error:i.context.errors.registration||null,isError:!0,isSuccess:!1}):i.matches({authentication:{signedOut:"noErrors"},registration:{incomplete:"needsEmailVerification"}})&&s({error:null,isError:!1,isSuccess:!0})})}),nr=(r,e)=>new Promise(t=>{const{changed:s,context:n}=r.send({type:"SIGNIN_SECURITY_KEY_EMAIL",email:e});if(!s)return t({accessToken:n.accessToken.value,error:I,isError:!0,isSuccess:!1,needsEmailVerification:!1,user:n.user});r.onTransition(i=>{i.matches({authentication:{signedOut:"noErrors"},registration:{incomplete:"needsEmailVerification"}})?t({accessToken:null,error:null,isError:!1,isSuccess:!1,needsEmailVerification:!0,user:null}):i.matches({authentication:{signedOut:"failed"}})?t({accessToken:null,error:i.context.errors.authentication||null,isError:!0,isSuccess:!1,needsEmailVerification:!1,user:null}):i.matches({authentication:"signedIn"})&&t({accessToken:i.context.accessToken.value,error:null,isError:!1,isSuccess:!0,needsEmailVerification:!1,user:i.context.user})})}),ir=(r,e,t)=>new Promise(s=>{const{changed:n,context:i}=r.send("SIGNIN_MFA_TOTP",{otp:e,ticket:t});if(!n)return s({accessToken:i.accessToken.value,error:I,isError:!0,isSuccess:!1,user:i.user});r.onTransition(u=>{u.matches({authentication:{signedOut:"failed"}})?s({accessToken:null,error:u.context.errors.authentication||null,isError:!0,isSuccess:!1,user:null}):u.matches({authentication:"signedIn"})&&s({accessToken:u.context.accessToken.value,error:null,isError:!1,isSuccess:!0,user:u.context.user})})}),or=(r,e,t)=>new Promise(s=>{const{changed:n}=r.send("PASSWORDLESS_SMS",{phoneNumber:e,options:t});if(!n)return s({error:I,isError:!0,isSuccess:!1,needsOtp:!1});r.onTransition(i=>{i.matches("registration.incomplete.needsOtp")?s({error:null,isError:!1,isSuccess:!1,needsOtp:!0}):i.matches("registration.incomplete.failed")&&s({error:i.context.errors.authentication||null,isError:!0,isSuccess:!1,needsOtp:!1})})}),ar=(r,e,t)=>new Promise(s=>{const{changed:n}=r.send({type:"PASSWORDLESS_SMS_OTP",phoneNumber:e,otp:t});if(!n)return s({error:I,isError:!0,isSuccess:!1,user:null,accessToken:null});r.onTransition(i=>{i.matches({authentication:"signedIn"})?s({error:null,isError:!1,isSuccess:!0,user:i.context.user,accessToken:i.context.accessToken.value}):i.matches({registration:{incomplete:"failed"}})&&s({error:i.context.errors.authentication||null,isError:!0,isSuccess:!1,user:null,accessToken:null})})}),cr=async(r,e)=>new Promise(t=>{const{event:s}=r.send("SIGNOUT",{all:e});if(s.type!=="SIGNED_OUT")return t({isSuccess:!1,isError:!0,error:fe});r.onTransition(n=>{n.matches({authentication:{signedOut:"success"}})?t({isSuccess:!0,isError:!1,error:null}):n.matches("authentication.signedOut.failed")&&t({isSuccess:!1,isError:!0,error:n.context.errors.signout||null})})}),ur=(r,e,t,s)=>new Promise(n=>{const{changed:i,context:u}=r.send("SIGNUP_EMAIL_PASSWORD",{email:e,password:t,options:s});if(!i)return n({error:I,accessToken:u.accessToken.value,isError:!0,isSuccess:!1,needsEmailVerification:!1,user:u.user});r.onTransition(f=>{f.matches("registration.incomplete.failed")?n({accessToken:null,error:f.context.errors.registration||null,isError:!0,isSuccess:!1,needsEmailVerification:!1,user:null}):f.matches({authentication:{signedOut:"noErrors"},registration:{incomplete:"needsEmailVerification"}})?n({accessToken:null,error:null,isError:!1,isSuccess:!1,needsEmailVerification:!0,user:null}):f.matches({authentication:"signedIn",registration:"complete"})&&n({accessToken:f.context.accessToken.value,error:null,isError:!1,isSuccess:!0,needsEmailVerification:!1,user:f.context.user})})}),lr=(r,e,t)=>new Promise(s=>{const{changed:n,context:i}=r.send("SIGNUP_SECURITY_KEY",{email:e,options:t});if(!n)return s({error:I,accessToken:i.accessToken.value,isError:!0,isSuccess:!1,needsEmailVerification:!1,user:i.user});r.onTransition(u=>{u.matches("registration.incomplete.failed")?s({accessToken:null,error:u.context.errors.registration||null,isError:!0,isSuccess:!1,needsEmailVerification:!1,user:null}):u.matches({authentication:{signedOut:"noErrors"},registration:{incomplete:"needsEmailVerification"}})?s({accessToken:null,error:null,isError:!1,isSuccess:!1,needsEmailVerification:!0,user:null}):u.matches({authentication:"signedIn",registration:"complete"})&&s({accessToken:u.context.accessToken.value,error:null,isError:!1,isSuccess:!0,needsEmailVerification:!1,user:u.context.user})})});exports.AuthClient=pe;exports.AuthClientSSR=je;exports.AuthCookieClient=Te;exports.CodifiedError=D;exports.EMAIL_NEEDS_VERIFICATION=Ke;exports.INVALID_EMAIL_ERROR=v;exports.INVALID_MFA_CODE_ERROR=ue;exports.INVALID_MFA_TICKET_ERROR=le;exports.INVALID_MFA_TYPE_ERROR=ce;exports.INVALID_PASSWORD_ERROR=V;exports.INVALID_PHONE_NUMBER_ERROR=W;exports.INVALID_REFRESH_TOKEN=Ve;exports.MIN_PASSWORD_LENGTH=te;exports.NETWORK_ERROR_CODE=oe;exports.NHOST_JWT_EXPIRES_AT_KEY=C;exports.NHOST_REFRESH_TOKEN_KEY=N;exports.NO_MFA_TICKET_ERROR=de;exports.NO_REFRESH_TOKEN=Me;exports.OTHER_ERROR_CODE=ae;exports.REFRESH_TOKEN_RETRY_INTERVAL=ie;exports.REFRESH_TOKEN_RETRY_MAX_ATTEMPTS=De;exports.STATE_ERROR_CODE=P;exports.TOKEN_REFRESHER_RUNNING_ERROR=xe;exports.TOKEN_REFRESH_MARGIN=ne;exports.USER_ALREADY_SIGNED_IN=I;exports.USER_NOT_ANONYMOUS=Ue;exports.USER_UNAUTHENTICATED=fe;exports.VALIDATION_ERROR_CODE=S;exports.activateMfaPromise=Je;exports.addSecurityKeyPromise=Be;exports.changeEmailPromise=ze;exports.changePasswordPromise=Qe;exports.createAuthMachine=ge;exports.createChangeEmailMachine=We;exports.createChangePasswordMachine=Fe;exports.createEnableMfaMachine=He;exports.createResetPasswordMachine=$e;exports.createSendVerificationEmailMachine=Ye;exports.encodeQueryParameters=me;exports.generateQrCodePromise=Xe;exports.getParameterByName=b;exports.localStorageGetter=Ee;exports.localStorageSetter=he;exports.removeParameterFromWindow=F;exports.resetPasswordPromise=Ze;exports.rewriteRedirectTo=y;exports.sendVerificationEmailPromise=er;exports.signInAnonymousPromise=rr;exports.signInEmailPasswordPromise=sr;exports.signInEmailPasswordlessPromise=tr;exports.signInEmailSecurityKeyPromise=nr;exports.signInMfaTotpPromise=ir;exports.signInSmsPasswordlessOtpPromise=ar;exports.signInSmsPasswordlessPromise=or;exports.signOutPromise=cr;exports.signUpEmailPasswordPromise=ur;exports.signUpEmailSecurityKeyPromise=lr;
//# sourceMappingURL=index.cjs.js.map
